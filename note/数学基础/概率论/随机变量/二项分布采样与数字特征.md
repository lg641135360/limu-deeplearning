### 试验：二项分布的采样

* 重复采样10万次进行二项随机变量的采样模拟，指定三组不同的参数(1，p) (10，0.25)， (10，0.5)和 (10，0.8)
* 将采样得到的每种结果对应次数归一化，计算出随机变量每种取值对应的频数，作为概率的近似，绘图观察
* 二项分布随机变量的数字特征 
  * 期望：E[X]=np 
  * 方差：V[X]=np(1-p)

![image-20230328205939505](%E4%BA%8C%E9%A1%B9%E5%88%86%E5%B8%83%E9%87%87%E6%A0%B7%E4%B8%8E%E6%95%B0%E5%AD%97%E7%89%B9%E5%BE%81.assets/image-20230328205939505.png)

```python
from scipy.stats import binom
import matplotlib.pyplot as plt

fig, ax = plt.subplots(3, 1)
params = [(10, 0.25), (10, 0.5), (10, 0.8)]
x = range(0, 11)
for i in range(len(params)):
    binom_rv = binom(n=params[i][0], p=params[i][1])  # 生成对应参数的二项分布随机变量
    rvs = binom_rv.rvs(size=100000)  # 重复采样100000次 返回数组--实验结果100000次的采样结果
    ax[i].hist(rvs, bins=11, density=True, alpha=0.6, edgecolor='k')  # 直方图，11个直方图的条形，是否进行归一化
    ax[i].set_title('n={},p={}'.format(params[i][0], params[i][1]))
    ax[i].set_xlim(0, 10)
    ax[i].set_ylim(0, 0.4)
    ax[i].set_xticks(x)
    ax[i].grid(ls='--')
    print('rvs{}:{}'.format(i, rvs))  # 打印结果
plt.show()
```



### 查看数字特征

```python
binom_rv = binom(n=10, p=0.25)
mean, var, skew, kurt = binom_rv.stats(moments='mvsk')  # 使用api获取

# 使用采样数据的样本均值和方差
binom_rvs = binom_rv.rvs(size=100000)
E_sam = np.mean(binom_rvs)
S_sam = np.std(binom_rvs)
V_sam = S_sam * S_sam

print('mean={},var={}'.format(mean, var))  # api
print('E_sam={},V_sam={}'.format(E_sam, V_sam))  # 样本
print('E=np={},V=np(1-p)={}'.format(10 * 0.25, 10 * 0.25 * 0.75))  # 公式

# res

mean=2.5,var=1.875
E_sam=2.49665,V_sam=1.8815887774999998
E=np=2.5,V=np(1-p)=1.875
```

