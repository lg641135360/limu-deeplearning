### 蒙特卡洛模拟随机过程场景1：赌博

#### 规则

* 赌徒和庄家对赌抛硬币，如果为正面，本轮赌徒赢，庄家付给赌徒1
* 结果为反面，本轮赌徒输，赌徒付给庄家1元
* 赌徒有初始赌本10元，，手上的钱一旦输光则退出赌局

#### 结果

* 赌博结果依托于每次抛硬币的结果，每一轮赌博就是一个伯努利试验，赢的概率是 p=0.5
* 赌博的过程就是一串伯努利试验构成的随机过程，每轮赌局中如果赢则赌本增加1元，输则赌本减少1元
* 采用蒙特卡罗方法，样本数为10个赌徒，每个赌徒最多赌100轮， 如果在此过程中输光了赌本，则提前退出，如果到100轮还有赌本， 赌局也停止
  * 把赌徒总人数设置为100000，依次将轮数设置为100、1000、 10000并进行对比观察
  * 试验结果：和庄家1：1的对赌，随着轮数的增加，基本上都破产了

>随机过程 – 一串随机数
>
>随机数 – 一次随机试验得出的结果
>
>结果建模 – 随机数生成器
>
>随机过程 – 有限个/无限个点组成的线

### 代码

```python
import pandas as pd
import random

sample_list = []
person_num = 100
round_num = 10000

for person in range(1, person_num + 1):
    money = 10
    for round in range(1, round_num + 1):
        res = random.randint(0, 1)  # 等概率生成0，1
        if res == 1:
            money = money + 1  # 赌赢了
        elif res == 0:
            money = money - 1  # 赌输了
        if money == 0:
            break
    sample_list.append([person, round, money])  # 赌局结果加入到结果集

# 构造成表格形式
sample_df = pd.DataFrame(sample_list, columns=['person', 'round', 'money'])
# 将person作为索引，并且不需要该列
sample_df.set_index('person', inplace=True)
# 打印结果分析
print('总轮数：{}，总人数：{}'.format(round_num, person_num))
# 总数-赌满人数
print('输完赌本提前出局的人数：{}'.format(person_num - len(sample_df[sample_df['round'] == round_num])))
# 赌满全场且盈利的人数
# 使用条件索引
print('赌满全场且盈利的人数：{}'.format(len(sample_df[sample_df['money'] > 10])))
# 赌满全场且亏本的人数
print('赌满全场且亏本的人数:{}'.format(len(sample_df[sample_df['money'] <= 10])))

# res
总轮数：10000，总人数：100
输完赌本提前出局的人数：86
赌满全场且盈利的人数：14
赌满全场且亏本的人数:86
```

