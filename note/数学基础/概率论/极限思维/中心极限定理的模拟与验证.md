### 中心极限定理的模拟

![image-20230406174129997](%E4%B8%AD%E5%BF%83%E6%9E%81%E9%99%90%E5%AE%9A%E7%90%86%E7%9A%84%E6%A8%A1%E6%8B%9F%E4%B8%8E%E9%AA%8C%E8%AF%81.assets/image-20230406174129997.png)

### 代码

```python
import numpy as np
from scipy.stats import geom
import matplotlib.pyplot as plt

fig, ax = plt.subplots(2, 2)

# 生成几何分布
geom_rv = geom(p=0.3)
geom_rvs = geom_rv.rvs(size=1000000)
# 得到统计量，使用api
mean, var, skew, kurt = geom_rv.stats(moments='mvsk')
ax[0][0].hist(geom_rvs, bins=100, density=True)
ax[0][0].set_title('geom dist:p=0.3')
ax[0][0].grid(ls='--')

# 采样个数，三组实验的采样个数
n_array = [0, 2, 5, 50]

# 分别进行三组实验，1，2，3
for i in range(1, 4):
    Z_array = []  # 每次标准化的结果，放入最后结果
    n = n_array[i]  # 采样个数
    for j in range(100000):
        sample = np.random.choice(geom_rvs, n)  # 采样
        Z_array.append((sum(sample) - n * mean) / np.sqrt(n * var))
    ax[i // 2][i % 2].hist(Z_array, bins=100, density=True)
    ax[i // 2][i % 2].set_title('n={}'.format(n))
    ax[i // 2][i % 2].grid(ls='--')
plt.show()
```

![image-20230406175048408](%E4%B8%AD%E5%BF%83%E6%9E%81%E9%99%90%E5%AE%9A%E7%90%86%E7%9A%84%E6%A8%A1%E6%8B%9F%E4%B8%8E%E9%AA%8C%E8%AF%81.assets/image-20230406175048408.png)

>随着单次采样个数的逐渐增加，随机变量的标准化后趋近于一个标准正态分布