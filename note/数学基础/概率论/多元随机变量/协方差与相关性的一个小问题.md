### 协方差与相关性的一个小问题

* 拿两组随机变量 X和Y以及Z和W对比，计算得到两组协方差的结果：cov[X,Y]以及cov[Z,W]
* 若满足cov[Z,W]>cov[X,Y]， 能够直接说随机变量Z和W的相关性大于X和Y的相关性吗

### 试验：协方差越大是否相关性越强

![image-20230403230523926](%E5%8D%8F%E6%96%B9%E5%B7%AE%E4%B8%8E%E7%9B%B8%E5%85%B3%E6%80%A7%E7%9A%84%E4%B8%80%E4%B8%AA%E5%B0%8F%E9%97%AE%E9%A2%98.assets/image-20230403230523926.png)

* ![image-20230403230709012](%E5%8D%8F%E6%96%B9%E5%B7%AE%E4%B8%8E%E7%9B%B8%E5%85%B3%E6%80%A7%E7%9A%84%E4%B8%80%E4%B8%AA%E5%B0%8F%E9%97%AE%E9%A2%98.assets/image-20230403230709012.png)
* ![image-20230403230718420](%E5%8D%8F%E6%96%B9%E5%B7%AE%E4%B8%8E%E7%9B%B8%E5%85%B3%E6%80%A7%E7%9A%84%E4%B8%80%E4%B8%AA%E5%B0%8F%E9%97%AE%E9%A2%98.assets/image-20230403230718420.png)

* ![image-20230403230742808](%E5%8D%8F%E6%96%B9%E5%B7%AE%E4%B8%8E%E7%9B%B8%E5%85%B3%E6%80%A7%E7%9A%84%E4%B8%80%E4%B8%AA%E5%B0%8F%E9%97%AE%E9%A2%98.assets/image-20230403230742808.png)
* ![image-20230403230758826](%E5%8D%8F%E6%96%B9%E5%B7%AE%E4%B8%8E%E7%9B%B8%E5%85%B3%E6%80%A7%E7%9A%84%E4%B8%80%E4%B8%AA%E5%B0%8F%E9%97%AE%E9%A2%98.assets/image-20230403230758826.png)

```python
import numpy as np
import matplotlib.pyplot as plt

fig, ax = plt.subplots(1, 2)
mean = np.array([0, 0])
conv = np.array([[1, 0.85], [0.85, 1]])

x_1, y_1 = np.random.multivariate_normal(mean=mean, cov=conv, size=3000).T
x_2 = x_1 * 100
y_2 = y_1 * 100

ax[0].plot(x_1, y_1, 'bo', alpha=0.05)
ax[1].plot(x_2, y_2, 'bo', alpha=0.05)

print(np.cov(np.vstack((x_1, y_1))))  # 使用np提供的计算conv的方法，传入元祖并且使用vstack
print(np.cov(np.vstack((x_2, y_2))))

ax[0].grid(ls='--')
ax[1].grid(ls='--')
plt.show()

# res
[[1.01669924 0.88656562]
 [0.88656562 1.04559584]]
[[10166.99235056  8865.65623558]
 [ 8865.65623558 10455.95839504]]
```

![image-20230404135301350](%E5%8D%8F%E6%96%B9%E5%B7%AE%E4%B8%8E%E7%9B%B8%E5%85%B3%E6%80%A7%E7%9A%84%E4%B8%80%E4%B8%AA%E5%B0%8F%E9%97%AE%E9%A2%98.assets/image-20230404135301350.png)

### 结论

* 协方差扩大了10000倍
* **但分布没变化**
  * 相关性和变化趋势没变化

