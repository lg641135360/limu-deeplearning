### 启示和思路

* 目标：通过采样的方式求取目标分布p(z)
* 引入马尔科夫链的稳态分布，让目标分布恰为这个马尔科夫链的稳态分布
* 在该马尔科夫链上进行长时间的状态转移，度过燃烧期之后，去收集进入稳态后的各个时刻点的状态作为样本，该样本集就可以 作为目标分布的近似

### 采样方法雏形

* ![image-20230410104556978](%E5%9F%BA%E4%BA%8E%E9%A9%AC%E5%B0%94%E7%A7%91%E5%A4%AB%E9%93%BE%E7%9A%84%E9%87%87%E6%A0%B7%E8%BF%87%E7%A8%8B.assets/image-20230410104556978.png)
* 扔小石头模型：利用大的数据样本，从任意的初始状态出发，经过足够长的步数转移之后，去统计落入到三个状态中的小石头各自所占的比例，可以近似为平稳分布
* 采样样本数定为10万个，对每一个样本都执行一次n步转移（这个n相对较大，保证进入到稳态），对于10万个样本，每次只利用了采样过程中的最后一个状态，数据利用率很低

### 采样方法的优化

* 基于稳态分布定义pi=Ppi，只需要进行一次转移过程，就能够实 现整个采样过程
* 在小石头进入稳态的t0时刻，他依照稳态分布中的pi概率进入到状态1、状态2或者状态3当中的任意一个
* ![image-20230410104925168](%E5%9F%BA%E4%BA%8E%E9%A9%AC%E5%B0%94%E7%A7%91%E5%A4%AB%E9%93%BE%E7%9A%84%E9%87%87%E6%A0%B7%E8%BF%87%E7%A8%8B.assets/image-20230410104925168.png)

### 采样过程描述

![image-20230410104941827](%E5%9F%BA%E4%BA%8E%E9%A9%AC%E5%B0%94%E7%A7%91%E5%A4%AB%E9%93%BE%E7%9A%84%E9%87%87%E6%A0%B7%E8%BF%87%E7%A8%8B.assets/image-20230410104941827.png)

* 假如需要采样的样本数是N个，而进入到稳态所需要的转移次数是M次（ 即燃烧期）
* 记录这个小石头从m到m+N这N次转移过程中（即平稳期）的每个时间点所处的状态
* 我们记录下的这N个状态就一定服从稳态分布中各个状态的概率